"use strict";angular.module("chayka-facebook-thumbnail-post",["chayka-forms","chayka-nls","chayka-wp-admin","chayka-utils","chayka-facebook-thumbnail-generator"]).directive("postThumbnailEditor",["utils",function(a){return{templateUrl:a.getResourceUrl("facebook","ng/chayka-facebook-thumbnail-post.html"),scope:{fonts:"=?",defaultFont:"@?",defaultLogo:"@?",defaultBackground:"@?",templates:"=?",customTemplate:"=?",layout:"=?"},controller:["$scope","modals","ajax",function(a,b,c){var d=window.Chayka.Facebook.ThumbnailGenerator;angular.extend(a,d),angular.extend(a,{isGeneratorSetUp:function(){return!!a.fonts&&a.defaultFont&&a.templates},getLayoutOptions:function(){var b={featured:"Featured Image"};for(var c in a.templates)a.templates.hasOwnProperty(c)&&(b[c]=a.templates[c].name);return a.customTemplate&&(b.custom="Custom Layout"),b},getTemplate:function(){var b=Object.keys(a.templates)[0],c={};switch(a.layout){case"featured":c=a.templates[b];break;case"custom":c=a.customTemplate;break;default:c=a.templates[a.layout]}return c},customizeTemplateClicked:function(){var c=a.layout;a.customTemplate?b.confirm("You already have custom layout.\nWould you like to reset it and create a new custom layout?",function(){a.customTemplate=angular.copy(a.templates[c])}):a.customTemplate=angular.copy(a.templates[c]),a.layout="custom"}})}]}}]);