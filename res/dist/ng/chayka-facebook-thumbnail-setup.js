"use strict";angular.module("chayka-facebook-thumbnail-setup",["chayka-forms","chayka-nls","chayka-wp-admin","chayka-utils","chayka-facebook-thumbnail-generator","lr.upload"]).directive("thumbnailSetup",["utils",function(a){return{templateUrl:a.getResourceUrl("facebook","ng/chayka-facebook-thumbnail-setup.html"),scope:{fonts:"=",defaultFont:"@",defaultLogo:"@"},controller:["$scope","modals","ajax",function(a,b,c){angular.extend(a,{updateFontsFromPayload:function(b){a.fonts.splice(0,a.fonts.length);var c=b.fonts;c.forEach(function(b){a.fonts.push(b)}),a.defaultFont=b.defaultFont},deleteFontClicked:function(d){b.confirm("Delete font "+d+"?",function(){c.post("/api/facebook/delete-font/",{font:d},{success:function(b){console.dir(b.payload),a.updateFontsFromPayload(b.payload)}})})},setDefaultFontClicked:function(b){c.post("/api/facebook/set-default-font/",{font:b},{success:function(b){console.dir(b.payload),a.updateFontsFromPayload(b.payload)}})},onUploadSuccess:function(b){a.updateFontsFromPayload(b.data.payload)}})}]}}]);